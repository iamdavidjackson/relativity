!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],e):"object"==typeof exports?exports.Relativity=e(require("jQuery")):t.Relativity=e(t.jQuery)}(this,function(t){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function n(t){this.prefixedTransform=this.vendorPrefix("transform"),this._defaultOptions={autoInit:!0,$container:"body",containerSelector:".parallax-container",mobileSupport:!0,ie8Support:!1,ie9Support:!0,positionProperty:"position",supports3D:!0,containers:[]},this.initVariables(t),this.options.autoInit&&this.init()}var o=i(1);n.prototype={initVariables:function(t){this.options=this.extend(this._defaultOptions,t),this.containers=this.options.containers,this.$container=o(this.options.$container),this.updateVariables()},init:function(){this.isSupported()&&(o("html").addClass("relativity"),this.initEvents(),this.onUpdateRelativity(),this.isInit=!0)},isSupported:function(){var t=!0,e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOSlg:function(){return navigator.userAgent.match(/iPad/i)},iOSsm:function(){return navigator.userAgent.match(/iPhone|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOSsm()||e.Opera()||e.Windows()}};if(e.any()&&(t=!1,/iP(hone|od|ad)/.test(navigator.platform))){var i=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3]||0,10)];n>=8&&(t=!0)}return t},updateVariables:function(){var t=this;this.viewPortSize=this.getViewportSize(),this.viewPortOffset=this.getViewportOffset(),this.containers=[];var e=this.options.containers.length;if(e>0)for(var i=0;e>i;i++){for(var n=this.options.containers[i],r=o(n.selector),s=r.offset().top,a=r.height(),h=s+a,p=n.elements.length,l=[],c=0;p>c;c++){var f=n.elements[c],u=r.find(f.selector);l.push({$element:u,movement:f.movement,options:f.options,originalLeft:u.position().left,originalTop:u.position().top,originalWidth:u.width(),originalHeight:u.height()})}this.containers.push({top:s,bottom:h,height:a,$element:r,elements:l,elementsCount:l.length})}else this.$container=o(this.options.$container),this.$containers=this.$container.find(this.options.containerSelector),this.$containers.each(function(e,i){var n=o(i),r=n.offset().top,s=n.height(),a=r+s,h=n.find("[data-relativity-movement]"),p=[];h.each(function(t,e){var i=o(e);p.push({$element:i,movement:i.attr("data-relativity-movement"),options:i.data(),originalLeft:u.position().left,originalTop:u.position().top,originalWidth:u.width(),originalHeight:u.height()})}),t.containers.push({top:r,bottom:a,height:s,$element:n,elements:p,elementsCount:p.length})});this.containersLength=this.containers.length},updateElements:function(){var t=this.getViewportOffset(),e=t.top,i=e+this.viewPortSize.height,n="down";if(this.viewPortOffset.top!==t.top||!this.isInit){this.viewPortOffset.top>t.top&&(n="up"),this.viewPortOffset=t;for(var o=0;o<this.containersLength;o++){var r=this.containers[o];if(r.top>e&&r.top<i||r.bottom>e&&r.bottom<i||r.top<e&&r.bottom>i){var s=e-r.height,a=i,h=a-s,p=r.top-s,l=1-p/h;this.triggerContainerOnScreen(r,l)}else this.triggerContainerOffScreen(r,n)}}},triggerContainerOnScreen:function(t,e){t.$element.addClass("relativity-onscreen"),t.$element.trigger("relativity:onscreen",e);for(var i=0;i<t.elementsCount;i++){var n=t.elements[i],o=n.movement,r="onMovement"+o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),s=this[r];if("function"==typeof s)return s.apply(this,[n,e]);console.log("no method available")}},triggerContainerOffScreen:function(t,e){t.$element.removeClass("relativity-onscreen"),t.$element.trigger("relativity:offscreen",e)},enable:function(){this.isSupported&&(this.isInit?this.initEvents():this.init())},disable:function(){this.removeEvents()},initEvents:function(){o(document).on("relativity:update",o.proxy(this.onUpdateRelativity,this)),this.isIE8&&this.options.ie8Support||this.isIE9&&this.options.ie9Support?this.requestAnimFrameLoop():o(window).scroll(o.proxy(this.onWindowScroll,this)),o(window).resize(o.proxy(this.onWindowResize,this))},onWindowScroll:function(t){this.isScrolling=!0,this.updateElements()},requestAnimFrameLoop:function(){this.updateElements(),window.requestAnimationFrame(this.requestAnimFrameLoop.bind(this))},onWindowResize:function(t){this.updateVariables()},onUpdateRelativity:function(t){this.updateVariables(),this.updateElements()},onMovementLeft:function(t,e){var i=t.$element,n=this.calculateDelta(t,e),o=t.originalLeft-n;"position"===this.positionProperty?this.setLeft(i,o):this.setTransform(i,o,t.originalLeft,0,0)},onMovementRight:function(t,e){var i=t.$element,n=this.calculateDelta(t,e),o=t.originalLeft+n;"position"==this.positionProperty?this.setLeft(i,o):this.setTransform(i,o,t.originalLeft,0,0)},onMovementUp:function(t,e){var i=t.$element,n=this.calculateDelta(t,e),o=t.originalTop-n;"position"==this.positionProperty?this.setTop(i,o):this.setTransform(i,0,0,o,t.originalTop)},onMovementDown:function(t,e){var i=t.$element,n=this.calculateDelta(t,e),o=t.originalTop+n;"position"==this.positionProperty?this.setTop(i,o):this.setTransform(i,0,0,o,t.originalTop)},onMovementScale:function(t,e){var i=t.$element,n=this.calculateDelta(t,e),o=t.originalWidth+n,r=t.originalHeight*(o/t.originalWidth);i.css("width",o+"px"),i.css("height",r+"px")},onMovementReveal:function(t,e){var i=t.$element,n=this.getDataAttributes(i);e>=n.triggerPoint?i.css("opacity","1"):i.css("opacity","0")},onMovementWiden:function(t,e){var i=t.$element,n=this.calculateDelta(t,e),o=t.originalWidth+n;i.css("width",o)},removeEvents:function(){o(document).off("relativity:update",o.proxy(this.onUpdateRelativity,this)),o(window).off("scroll",o.proxy(this.onWindowScroll,this)),o(window).off("resize",o.proxy(this.onWindowResize,this))},uninitialize:function(){this.removeEvents()},getViewportSize:function(){var t,e,i={height:window.innerHeight,width:window.innerWidth};return i.height||(t=document.compatMode,!t&&o.support.boxModel||(e="CSS1Compat"===t?document.documentElement:document.body,i={height:e.clientHeight,width:e.clientWidth})),i},getViewportOffset:function(){return{top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft}},setLeft:function(t,e){t.css("left",e)},setTop:function(t,e){t.css("top",e)},setTransform:function(t,e,i,n,o){this.options.supports3D?t.css(this.prefixedTransform,"translate3d("+(e-i)+"px, "+(n-o)+"px, 0)"):t.css(this.prefixedTransform,"translate("+(e-i)+"px, "+(n-o)+"px)")},calculateDelta:function(t,e){var i=t.options.range||this.viewPortSize.height,n=t.options.speed,o=window.parseInt(n*i*(e-.5));return o},extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},vendorPrefix:function(){var t,e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,i=o("script")[0].style,n="";for(t in i)if(e.test(t)){n=t.match(e)[0];break}return"WebkitOpacity"in i&&(n="Webkit"),"KhtmlOpacity"in i&&(n="Khtml"),function(t){return n+(n.length>0?t.charAt(0).toUpperCase()+t.slice(1):t)}}()},t.exports=n},function(e,i){e.exports=t}])});